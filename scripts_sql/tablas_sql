-- Tabla cuentas
CREATE TABLE cuentas (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR2(50) NOT NULL,
    password_hash VARCHAR2(255) NOT NULL,
    rol VARCHAR2(20) NOT NULL,
    nombre VARCHAR2(50),
    apellido VARCHAR2(50),
    email VARCHAR2(100)
);

-- Tabla paciente
CREATE TABLE paciente (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR2(50) NOT NULL,
    nombre VARCHAR2(50),
    apellido VARCHAR2(50),
    email VARCHAR2(100),
    comuna VARCHAR2(50),
    fecha_primera_visita DATE
);

-- Tabla doctor
CREATE TABLE doctor (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR2(50) NOT NULL,
    nombre VARCHAR2(50),
    apellido VARCHAR2(50),
    email VARCHAR2(100),
    especialidad VARCHAR2(50),
    horario_atencion VARCHAR2(50),
    fecha_ingreso DATE
);

-- Tabla cita
CREATE TABLE citas (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_cliente NUMBER REFERENCES paciente(id),
    id_doctor NUMBER REFERENCES doctor(id),
    id_prescripcion NUMBER,  -- aunque no la uses ahora
    fecha DATE,
    comentarios VARCHAR2(255)
);
